<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>Bauer stereophonic-to-binaural DSP</title>






  
  <meta content="Boris Mikhaylov" name="author"></head><body style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);" alink="#000099" link="#000099" vlink="#990099">
<table style="width: 700px; text-align: left; font-family: times new roman,times,serif;" border="0" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="vertical-align: top;"><big><span style="font-weight: bold;">Bauer stereophonic-to-binaural DSP: library
description.</span></big><br>
      <br>
The <a href="http://bs2b.sourceforge.net/" target="_top">bs2b</a>
library is simple
to use. See table 1 for example. It is a portion of '<a href="src/bs2bstream.c">bs2bstream.c</a>'. The 'bs2b.h', 'bs2b_class.h' and 'bs2b_convert.c' files of the source code
package can help also.<br>
You can use a 'bs2bstream' with '<a href="http://lame.sourceforge.net/" target="_top">lame</a>' by a command line like this:<br>&nbsp; lame -t --decode test-44-16.wav - | bs2bstream -4 | \<br>&nbsp;&nbsp;&nbsp; lame -r -x -m j -s 44.1 --bitwidth 16 --preset extreme - test.mp3<br>
or without of '-x' swap bytes of input file, like this:<br>&nbsp; lame -t --decode test-44-16.wav - | bs2bstream -4 | \<br>&nbsp;&nbsp;&nbsp; lame -r -m j -s 44.1 --bitwidth 16 --preset extreme - test.mp3<br><br>
      <span style="font-weight: bold;">Table 1. Example of using of bs2b
library.</span><br>
      <table style="width: 100%; background-color: rgb(255, 255, 204); text-align: left; font-family: courier new,courier,monospace;" border="0" cellpadding="2" cellspacing="2">
        <tbody>
          <tr>
            <td style="vertical-align: top;"><font size="-1">#include &lt;stdio.h&gt;<br>
#include &lt;fcntl.h&gt;<br>
#include &lt;io.h&gt;<br>
            <br>
#include "bs2b.h"<br>
            <br>
int main( int argc, char *argv[] )<br>
{<br>
&nbsp; t_bs2bdp bs2bdp;<br>
&nbsp; short&nbsp;&nbsp;&nbsp; sample[ 2 ];<br>
            <br>
&nbsp; bs2bdp = bs2b_open();<br>
            <br>
&nbsp; bs2b_set_srate( bs2bdp, 44100L );<br>
&nbsp; bs2b_set_level( bs2bdp, BS2B_DEFAULT_CLEVEL );<br>
            <br>
&nbsp; _setmode( _fileno( stdin ),&nbsp; _O_BINARY );<br>
&nbsp; _setmode( _fileno( stdout ), _O_BINARY );<br>
            <br>
&nbsp; while( 2 == fread( sample, sizeof( short ), 2, stdin ) )<br>
&nbsp; {<br>
&nbsp;&nbsp;&nbsp; bs2b_cross_feed_16( bs2bdp, sample );<br>
&nbsp; &nbsp; fwrite( sample, sizeof( short ), 2, stdout );<br>
&nbsp; }<br>
            <br>
&nbsp; bs2b_close( bs2bdp );<br>
&nbsp; bs2bdp = 0;<br>
            <br>
&nbsp; return 0 ;<br>
} /* main */<br>
            </font> </td>
          </tr>
        </tbody>
      </table>
      <br>
Sample rate default value is 44100 Hz. Crossfeed level default value is
'High Easy' (6). If sample rate of audio data is different or if you
want to
change
crossfeed level then you must call 'bs2b_set_srate' and
'bs2b_set_level' functions accordingly.<br>
      <br>
      <hr style="width: 100%; height: 2px;">Copyright (c) 2006&nbsp;
Boris Mikhaylov &lt; <a href="http://www.tmn.ru/%7Ebor" target="_top">http://www.tmn.ru/~bor</a>&gt;</td>
    </tr>
  </tbody>
</table>
</body></html>